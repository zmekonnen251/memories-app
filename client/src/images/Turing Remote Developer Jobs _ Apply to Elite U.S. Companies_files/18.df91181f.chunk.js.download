(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1619:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(542),r=n(65),l=n.n(r),o=n(109),c=n(79),i=n(80),s=n(142),u=n(44),m=n(141),d=n(2),p=n.n(d),g=n(1858),f=n.n(g),b=n(2202),h=n(2199),E=n(1371),_=n(1543),v=n(1829),y=n(1830),C=n(2200),O=n(1270),S=n(663),I=n(1993);var w=n(81),j=n(146),k=n.n(j),T=n(1859),L=function(e){var t=e.isMCQ,n=e.isACC,a=e.form,r=e.visible,l=e.onCancel,o=e.saveFile,c=e.onSubmit,i=e.files,s=e.validatingError,u=e.removeFile,m=e.hideModalToggler,d=e.loading,g=e.hidden,I=a.getFieldDecorator,w=[];return t?(w.push("UI issues"),w.push("The question is not clear"),w.push("The question is not detailed"),w.push("There is no correct answer in the options"),w.push("2 options have the same answer"),w.push("The screen froze"),w.push("Other")):n&&(w.push("UI issues"),w.push("The question is not clear"),w.push("The question is not detailed"),w.push("The screen froze"),w.push("Other")),p.a.createElement(b.a,{visible:r,title:"Bug Report",okText:"Submit",width:"40%",onCancel:l,onOk:c,confirmLoading:d,bodyStyle:{display:g&&"none"},maskStyle:{display:g&&"none"},style:{display:g&&"none"}},p.a.createElement(h.a,{layout:"vertical"},w.length>0?p.a.createElement(h.a.Item,{label:"Select a category for this issue"},I("category",{rules:[{required:!0,message:"Please select a category for this issue"}]})(p.a.createElement(E.a,null,w.map((function(e){return p.a.createElement(E.a.Option,{key:e,value:e},e)}))))):null,p.a.createElement(h.a.Item,{label:"Please provide bug summary"},I("title",{rules:[{required:!0,message:"Please input the bug summary"}]})(p.a.createElement(_.a.TextArea,{rows:2,maxLength:255,placeholder:"Summary..."})),p.a.createElement("span",null,"Maximum character length (255)")),p.a.createElement(h.a.Item,{label:"Please provide detail description if possible"},I("description",{})(p.a.createElement(_.a.TextArea,{maxLength:1e3,rows:6,placeholder:"Description..."})),p.a.createElement("span",null,"Maximum character length (1000)"),p.a.createElement("div",{style:{color:"red"}},s))),p.a.createElement("h3",null,"Screenshots: "),p.a.createElement(v.a,{type:"flex"},p.a.createElement(y.a,null,p.a.createElement(C.a,{style:{width:"200px"},accept:"image/*",beforeUpload:function(e,t){return function(e,t){var n=e,a=new FileReader,r="";a.onloadend=function(e){for(var n,a=new Uint8Array(e.target.result).subarray(0,4),l=0;l<a.length;l++)r+=a[l].toString(16);switch(r){case"89504e47":n="image/png";break;case"47494638":n="image/gif";break;case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":n="image/jpeg";break;default:n="unknown"}t(n)},a.readAsArrayBuffer(n.slice(0,4))}(e,(function(t){t.includes("image")?o({file:e}):o({error:"Wrong file type: "+e.name})})),!1},multiple:!0,fileList:i,onRemove:u},p.a.createElement(O.a,null,p.a.createElement(S.a,{type:"upload"}),"Click to Upload"))),p.a.createElement(y.a,null,p.a.createElement(O.a,{style:{marginLeft:"10px"},onClick:function(){m().then((function(e){var t=window.pageYOffset,n=window.pageXOffset,a=document.body,r=document.documentElement,l=Math.max(a.scrollHeight,a.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight),c=Math.max(a.scrollWidth,a.offsetWidth,r.clientWidth,r.scrollWidth,r.offsetWidth);window.scrollTo(0,0),f()(a,{logging:!1,width:c,height:l,windowWidth:c,windowHeight:l}).then((function(e){e.toBlob((function(e){var t=T(),n=new File([e],"captured-tab-".concat(t,".png"),{type:"image/png"});n.uid=t,o({file:n})})),m(),window.scrollTo(n,t)})).catch((function(e){o({error:e}),m(),window.scrollTo(n,t)}))}))}},p.a.createElement(S.a,{type:"upload"}),"Capture tab"))))},P=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,i=new Array(r),m=0;m<r;m++)i[m]=arguments[m];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={showReportForm:!1,loading:!1,hidden:!1,validatingError:"",files:[]},n.onSubmitReport=function(){n.setState({loading:!0}),n.props.form.validateFields(function(){var e=Object(o.a)(l.a.mark((function e(t,a){var r,o,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return n.setState({loading:!1}),e.abrupt("return");case 3:if(void 0!==a.description||n.state.files!==[]){e.next=6;break}return n.setState({validatingError:"Kindly provide a detail description or upload a screenshot",loading:!1}),e.abrupt("return");case 6:return e.prev=6,n.setState({validatingError:""}),r=void 0!==a.description?a.description:"",o={action:"CREATE_BUG_REPORT",challengeId:n.props.challengeId,problemId:n.props.problemId,bugCategory:a.category,bugTitle:a.title,bugDescription:r},e.next=12,k.a.post("".concat(w.ApiConstant.BASE_URL,"bug/"),o);case 12:(c=e.sent).data.success?(i=c.data.result[0].id,n.handleUpload(i),n.setState({loading:!1}),n.openNotification("success","Report submitted","You have successfully submitted a bug report")):(n.setState({loading:!1}),n.openNotification("error","Could not submit report","Please try again later.")),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),n.setState({loading:!1}),n.openNotification("error","Could not submit report","Please try again later.");case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t,n){return e.apply(this,arguments)}}())},n.handleUpload=function(e){var t=n.state.files;if(t&&t.length){var a=new FormData;a.append("action","CREATE_BUG_SCREENSHOT"),a.append("reportId",e),t.forEach((function(e){a.append("screenshot",e)})),k.a.post("".concat(w.ApiConstant.BASE_URL,"bug/"),a),n.setState({showReportForm:!1})}},n.saveFile=function(e){var t=e.file,r=e.error;n.setState((function(e){return{files:r?Object(a.a)(e.files):[].concat(Object(a.a)(e.files),[t]),error:r||e.error}}))},n.removeFile=function(e){n.setState((function(t){var n=Object(a.a)(t.files);return{files:n=n.filter((function(t){return t!==e}))}}))},n.hideModalToggler=function(){return new Promise((function(e){return e(n.setState((function(e){return{hidden:!e.hidden}})))}))},n.openNotification=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;I.a[e]({message:t,description:n,placement:"topRight",duration:a})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return p.a.createElement(p.a.Fragment,null,p.a.createElement(O.a,{className:"reportproblembtn",onClick:function(){return e.setState({showReportForm:!0})}},"Report a problem"),p.a.createElement(L,{form:this.props.form,isACC:this.props.isACC,isMCQ:this.props.isMCQ,visible:this.state.showReportForm,onCancel:function(){return e.setState({showReportForm:!1})},onSubmit:this.onSubmitReport,handleUpload:this.handleUpload,files:this.state.files,saveFile:this.saveFile,removeFile:this.removeFile,hideModalToggler:this.hideModalToggler,hidden:this.state.hidden,validatingError:this.state.validatingError,loading:this.state.loading}))}}]),t}(p.a.Component),x=h.a.create({name:"bugReportForm"})(P);t.b=L},1855:function(e,t,n){"use strict";var a=n(79),r=n(80),l=n(142),o=n(44),c=n(141),i=n(2),s=n.n(i),u=n(595),m=n(2196),d=n(1829),p=n(1830),g=n(1270),f=(n(1856),n(1056)),b=n(603),h=n(1619),E=n(647),_=n.n(E),v=(n(852),n(1122),Object(i.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(6),n.e(7),n.e(11)]).then(n.t.bind(null,1124,7))}))),y=m.a.Text,C=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(l.a)(this,Object(o.a)(t).call(this,e))).modules={toolbar:!1,syntax:!0},n.reloadQuestion=function(){b.a.info("RELOAD_QUESTION_CLICKED","RELOAD_QUESTION_CLICKED",{},{questionContentKey:n.state.questionContentKey,mcq:"Automated Coding",step:n.props.currentStep},{});var e=n.state.questionContentKey+1;n.setState({questionContentKey:e,reloading:!0},(function(){e<=3?n.convertQuestionContentToImage():setTimeout((function(){n.setState({reloading:!1})}),2e3)}))},n.state={questionContentKey:1,reloading:!1},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.convertQuestionContentToImage()}},{key:"shouldComponentUpdate",value:function(e,t){return e.currentStep!==this.props.currentStep||this.state.questionContentKey!==t.questionContentKey||this.state.reloading!==t.reloading}},{key:"convertQuestionContentToImage",value:function(){var e=this;setTimeout((function(){f.a.convertToImage("html-question"),e.setState({reloading:!1})}),2e3)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:this.props.className?this.props.className:this.props.isLiveCode?"html-question liveCode":"html-question",style:{marginTop:this.props.withHeader?null:"1rem"}},this.props.withHeader&&s.a.createElement("header",{className:"challenge-header"},s.a.createElement("img",{className:"challenge-header-text",src:_.a}),s.a.createElement("br",null),s.a.createElement("div",{className:"challenge-subheader-text"},this.props.subTitle?this.props.subTitle:"ALGORITHM TESTS"),!this.props.title&&s.a.createElement("h1",null,s.a.createElement("b",null,1===this.props.currentStep?"Get Started":"Second Test")),this.props.title&&s.a.createElement("h1",null,s.a.createElement("b",null,this.props.title)),this.props.currentStep&&this.props.totalSteps&&s.a.createElement(y,{className:"question-count"},"Question ",this.props.currentStep>this.props.totalSteps?this.props.totalSteps:this.props.currentStep," of ",this.props.totalSteps)),s.a.createElement("div",{key:this.state.questionContentKey,className:"question-description",id:"html-question"},s.a.createElement(v,{defaultValue:this.props.content,modules:this.modules,readOnly:!0}))),s.a.createElement("div",{className:"report-section"},s.a.createElement(d.a,null,s.a.createElement(p.a,null,s.a.createElement(y,null,"Something wrong with the question or blank content?"))),s.a.createElement(d.a,null,s.a.createElement(p.a,null,s.a.createElement(g.a,{onClick:this.reloadQuestion,loading:this.state.reloading},s.a.createElement(y,{strong:!0},"Reload question"))),s.a.createElement(p.a,null,s.a.createElement(h.a,{className:"reportProblemInCoding",challengeId:this.props.challenge_id,problemId:this.props.problem_id,isACC:!0})))))}}]),t}(i.Component);t.a=Object(u.b)((function(e){return{}}))(C)},1856:function(e,t,n){},1862:function(e,t){e.exports={jwkKeyOptions:{kty:"oct",alg:"A256CBC",key_ops:["encrypt","decrypt"],ext:!0}}},1886:function(e,t){},2194:function(e,t,n){"use strict";var a,r,l,o,c,i,s,u,m=n(145),d=n(65),p=n.n(d),g=n(109),f=n(144),b=n(2),h=n.n(b),E=n(1993),_=n(2106),v=n(663),y=n(2202),C=n(1270),O=n(1967),S=n(1543),I=n(1829),w=n(1476),j=n(1961),k=n(2136),T=n.n(k),L=n(2135),P=n.n(L),x=n(146),N=n.n(x),A=n(81),R=n(594),D=n(603),B=(n(2522),n(1616)),M=O.a.TabPane,U=S.a.TextArea,G=!1,F="",q=!1,H=Object(b.forwardRef)((function(e,t){if(s||Promise.all([n.e(4),n.e(12)]).then(n.t.bind(null,2165,7)).then((function(e){s=e})),!s)return null;var u=Object(b.useState)(!0),d=Object(f.a)(u,2),_=d[0],S=d[1],k=Object(b.useRef)(null),L=Object(b.useState)(null),x=Object(f.a)(L,2),R=x[0],H=x[1],K=Object(b.useState)(!1),Y=Object(f.a)(K,2),W=Y[0],z=Y[1],Q=Object(b.useState)(null),V=Object(f.a)(Q,2),J=V[0],X=V[1],Z=Object(b.useState)(!1),$=Object(f.a)(Z,2),ee=$[0],te=$[1],ne=Object(b.useState)(!1),ae=Object(f.a)(ne,2),re=ae[0],le=ae[1],oe=Object(b.useState)(null),ce=Object(f.a)(oe,2),ie=ce[0],se=ce[1],ue=Object(b.useState)({input:"",output:""}),me=Object(f.a)(ue,2),de=me[0],pe=me[1],ge=Object(b.useState)(!1),fe=Object(f.a)(ge,1)[0];if(Object(b.useImperativeHandle)(t,(function(){return{getEditorContent:function(){if(R)return R.getValue()},autoSubmit:function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve({timeOut:!0});case 2:"function"===typeof t&&t();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),isSubmitting:function(){return q},setEditorContent:function(e,t){if(e&&t){for(var n=s.editor.createModel(e,t),a="",r=0;r<e.length;r++)a+=n.normalizeIndentation(e.charAt(r));n.setValue(a),R.setModel(n)}}}})),Object(b.useEffect)((function(){k&&k.current&&H(s.editor.create(k.current,{codeLens:!1,minimap:{enabled:!1},contextmenu:!1,autoIndent:"full",automaticLayout:!0,renderWhitespace:!0}))}),[]),R?R.onKeyDown((function(e){e.keyCode;var t=e.ctrlKey;(e.metaKey||t)&&e.preventDefault()})):k&&k.current&&H(s.editor.create(k.current,{codeLens:!1,minimap:{enabled:!1},contextmenu:!1,autoIndent:"full",automaticLayout:!0,renderWhitespace:!0})),e.isProblemSubmitted||e.isProblemTimedOut||e.isChallengeTimedOut)try{R&&R.updateOptions({readOnly:!0})}catch(we){console.log(">>>>>>>>>>"),console.log(we)}q=!1;var be=function(){le(!1),e.onNext&&e.onNext()},he=h.a.createElement(v.a,{type:"loading",style:{fontSize:55}}),Ee=function(e,t,n){E.a[e]({message:t,description:n,placement:"topRight"})};Object(b.useEffect)((function(){var e=setInterval(_e,3e4);return function(){return clearInterval(e)}}),[R,e.challenge_id,e.problem_id,e.selectedLanguageId]);var _e=function(){if(R){var t=R.getValue();if(t&&e.challenge_id&&e.problem_id&&e.selectedLanguageId){var n={action:"SAVE_ACC_CONTENT",challenge_id:e.challenge_id,problem_id:e.problem_id,programming_language_id:e.selectedLanguageId,latest_code_content:t};N.a.post("".concat(A.ApiConstant.BASE_URL,"challenge/"),n).catch(console.error)}}},ve=function(){var t=Object(g.a)(p.a.mark((function t(n){var r,l,o,c,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!re){t.next=2;break}return t.abrupt("return");case 2:if(te(!1),F=R.getValue(),(a=F)&&0!==a.length){t.next=9;break}return e.isLiveCode&&D.a.error("LCI_LOGGING","SUBMIT_LCI_CODE",{},{programming_language_id:e.selectedLanguageId,lci_id:e.lcId},new Error("There is no code")),Ee("error","There is no code","Please enter your solution."),t.abrupt("return");case 9:return r=[],fe&&(r.push("Time is up"),e.isLiveCode&&D.a.info("LCI_LOGGING","SUBMIT_LCI_CODE_TIME_IS_UP",{},{programming_language_id:e.selectedLanguageId,lci_id:e.lcId},new Error("There is no code"))),r.push("Submitting your solution..."),r.push("It may take up to 30 seconds for the test to be completed. Please do not close the window."),q=!0,le(!0),se(r),l=Object(m.a)({},n,{action:"SUBMIT_PROBLEM_SOLUTION",challenge_id:e.challenge_id,problem_id:e.problem_id,programming_language_id:e.selectedLanguageId,content:a}),Object(B.b)()===+e.challenge_id&&(l.isVetsmith=!0),e.isLiveCode&&(l.lcId=e.lcId),t.prev=19,t.next=22,N.a.post("".concat(A.ApiConstant.BASE_URL,"challenge/"),l);case 22:o=t.sent,le(!1),(c=o.data).success&&c.result?(e.isLiveCode&&D.a.info("LCI_LOGGING","SUBMIT_LCI_CODE_SUCCESS",{},{programming_language_id:e.selectedLanguageId,lci_id:e.lcId,totalScoreByCases:c.result.totalScoreByCases},null),setTimeout(be,3e3),e.updateScoreByCases&&e.updateScoreByCases(c.result,c.passStatus||{})):(i=c.errorMessage||"Experienced unknown error, please try again later.",e.isLiveCode&&D.a.error("LCI_LOGGING","SUBMIT_LCI_CODE",{},{programming_language_id:e.selectedLanguageId,lci_id:e.lcId},new Error(i)),q=!1,Ee("error","Error running submitted code:",i),e.onRunTestOutput&&e.onRunTestOutput(i)),t.next=35;break;case 28:t.prev=28,t.t0=t.catch(19),e.isLiveCode&&D.a.error("LCI_LOGGING","SUBMIT_LCI_CODE",{},{programming_language_id:e.selectedLanguageId,lci_id:e.lcId},t.t0),q=!1,le(!1),Ee("error","Error running submitted code:",t.t0.message),e.onRunTestOutput&&e.onRunTestOutput(t.t0.message);case 35:case"end":return t.stop()}}),t,null,[[19,28]])})));return function(e){return t.apply(this,arguments)}}(),ye=function(e,t){var n=new Promise((function(n,r){var l={code:a,input:t.input};N.a.post(e,l).then((function(e){var t=e.data.run||e.data.compile;t&&t.exitcode?r(new Error(t.error)):n(t.out?t.out.trim():null)})).catch((function(e){r(e)}))}));return n.output=t.output,n.isCustomCase=!!t.isCustomCase,n},Ce=function(){var t=Object(g.a)(p.a.mark((function t(){var n,a,s,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat("https://vetting-build.turing.com/api/languages","/").concat(e.codeServerMap),a=e.problem_cases[0],e.isLiveCode&&D.a.info("LCI_LOGGING","RUN_LCI_CODE",{},{programming_language_id:e.selectedLanguageId,lci_id:e.lcId},null),t.next=5,ye(n,a).catch((function(t){e.isLiveCode&&D.a.error("LCI_LOGGING","RUN_LCI_CODE",{},{programming_language_id:e.selectedLanguageId,lci_id:e.lcId},t),Se(t.message),i=!0}));case 5:if(s=t.sent,!i){t.next=8;break}return t.abrupt("return");case 8:for(Oe(1,s,a.output)?r++:i=!0,l++,u=[];l<o;)a=e.problem_cases[l],u.push(ye(n,a)),l++;de&&de.input&&""!==de.input.trim()&&(u.push(ye(n,Object(m.a)({},de,{isCustomCase:!0}))),l++),Promise.all(u).then((function(t){var n=0;t.map((function(e){u[n].isCustomCase||(Oe(n+2,e,u[n].output,u[n].isCustomCase)?r++:i=!0);n++})),c+="\r\n====================================",c+="\r\nFinal Result: ".concat(r,"/").concat(o," (").concat(r/o*100,"%)"),n=0,t.map((function(e){u[n].isCustomCase&&(c+="\r\n====================================",Oe(n+2,e,u[n].output,u[n].isCustomCase)),n++})),e.onRunTestOutput(c),setTimeout((function(){G=!1,z(!0)}),1e3)})).catch((function(e){Se(e.message)}));case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Oe=function(t,n,a,r){var l=!1;return c+=r?"\r\nCustom case output: ":"\r\nTest case ".concat(t," output: "),n?(c+=n,r||(c+="\r\nExpected result: ".concat(a),n&&a===n.replace(/\r/g,"").replace(/\n/g,"")?(c+=" ==> Success.",l=!0):(i=!0,c+=" ==> Failed."))):(c+="Error: There is no output\r\n",i=!0),X(i?"exception":"success"),e.onRunTestOutput(c),l},Se=function(t){X("exception"),q=!1,le(!1),c+="\r\n".concat(t),c+="\r\nTest Result: Failed",e.onRunTestOutput(c),setTimeout((function(){G=!1,z(!0)}),1e3)},Ie=[];return e.problem_cases&&e.problem_cases.forEach((function(e,t){Ie.push(h.a.createElement(M,{tab:"Test ".concat(t+1),key:"".concat(t+1)},h.a.createElement(U,{className:"input-text-area",readOnly:!0,value:e.input,autosize:{minRows:7,maxRows:7}})))})),Ie.push(h.a.createElement(M,{tab:"Custom",key:"Custom"},h.a.createElement("div",{className:"custom-case-container"},h.a.createElement(U,{className:"input-text-area custom-case",placeholder:"Enter input case...",value:de.input,onChange:function(e){return pe((function(t){return Object(m.a)({},t,{input:e.target.value})}))},autosize:{minRows:7,maxRows:7}})))),h.a.createElement("div",{className:"rightPanel ".concat(_?"with-outputs":"")},h.a.createElement("div",{className:"rightPanel-editor"},h.a.createElement("div",{id:"monacoEditor",ref:k}),e.isProblemSubmitted?h.a.createElement("div",{className:"solution-submitted"},"You have submitted solution for this question, please move to the next one"):null),h.a.createElement("div",{className:"rightPanel-outputs"},h.a.createElement(O.a,{className:"rightPanelOutputsTabTestArea",defaultActiveKey:"1"},Ie),h.a.createElement(O.a,{className:"rightPanelOutputsTabRunResultArea",defaultActiveKey:"1"},h.a.createElement(M,{tab:"Run Code Result",key:"1"},h.a.createElement(U,{className:"input-text-area",readOnly:!0,autosize:{minRows:7,maxRows:7},value:e.outputMessage?e.outputMessage.concat("\n".repeat(3)):""})))),h.a.createElement("div",{className:"rightPanel-controls"},h.a.createElement("div",{className:"console d-flex v-flex-center"},h.a.createElement(C.a,{onClick:function(e){S(!_)},type:"link",ghost:!0},"Console ",_?h.a.createElement(v.a,{type:"down"}):h.a.createElement(v.a,{type:"up"}))),h.a.createElement("div",{id:"lci-countdown",className:"time d-flex v-flex-center h-flex-center"}),h.a.createElement("div",{className:"buttons d-flex v-flex-center h-flex-right"},!e.isProblemSubmitted&&h.a.createElement(h.a.Fragment,null,h.a.createElement(C.a,{className:"buttons-icons m-l-1",onClick:function(){if(!G){if(S(!0),G=!0,r=0,l=0,o=e.problem_cases.length,F=R.getValue(),!(a=F)||0===a.length)return e.isLiveCode&&D.a.error("LCI_LOGGING","RUN_LCI_CODE_NO_CODE",{},{programming_language_id:e.selectedLanguageId,lci_id:e.lcId},new Error("There is no code")),Ee("error","There is no code","Please enter your solution."),void(G=!1);c="Compiling...",e.onRunTestOutput(c),X("normal"),i=!1,Ce()}}},h.a.createElement(P.a,null),"Run Initial Tests"),h.a.createElement(C.a,{disabled:e.isProblemSubmitted||e.isProblemTimedOut||e.isChallengeTimedOut,className:"submitButton buttons-icons m-l-1 m-r-1",onClick:function(e){te(!0)}},h.a.createElement(T.a,null),"Submit")),e.isProblemSubmitted&&h.a.createElement(h.a.Fragment,null,"You have submitted solution for this question, please move to the next one"))),h.a.createElement(y.a,{visible:G,closable:!1,footer:null,centered:!0},h.a.createElement(I.a,null,h.a.createElement("div",{className:"submit-result"},h.a.createElement(w.a,{className:"submit-indicator",indicator:he}))),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",{className:"modalText"},h.a.createElement("b",null," Testing your solution..."),h.a.createElement("br",null),"Please do not close this window")),h.a.createElement(y.a,{visible:W&&!G,closable:!0,footer:null,centered:!0,onCancel:function(){return z(!1)}},h.a.createElement(I.a,null,h.a.createElement("div",{className:"submit-result"},h.a.createElement(j.a,{className:"submit-indicator",type:"circle",percent:100,width:100,status:J})),h.a.createElement("br",null),h.a.createElement("br",null)),"exception"===J&&h.a.createElement("div",{className:"modalText"},h.a.createElement("b",null," Your solution did not pass the initial test cases"),h.a.createElement("br",null),"Check the output for more info and try again"),"success"===J&&h.a.createElement("div",{className:"modalText"},h.a.createElement("b",null," You passed ",r," initial test case",r>1?"s":"",". We will be testing your code against 5 to 8 more cases to obtain your final results. You are free to manually add more ",h.a.createElement("i",null,"custom test cases")," to verify your code even further."),h.a.createElement("br",null),h.a.createElement("b",null,"If you are confident about your solution, submit it now to get a score."))),h.a.createElement(y.a,{visible:ee,closable:!1,centered:!0,footer:[h.a.createElement(C.a,{key:"cancel",onClick:function(){return te(!1)}},"Cancel"),h.a.createElement(C.a,{key:"submit",type:"primary",onClick:function(e){return ve({timeOut:!1})}},"Submit")]},h.a.createElement("div",{className:"modalText"},h.a.createElement("h2",null," Submit solution"),h.a.createElement("br",null),"You are about to submit this solution to continue with our vetting process. Once confirmed you will not be able to re-submit it and your score will be calculated. Your code will be tested against hidden test cases and the results will be emailed to you in 24 hours.")),h.a.createElement(y.a,{title:"Submitting solution",visible:re,closable:!1,footer:null,centered:!0},h.a.createElement(I.a,null,h.a.createElement("div",{className:"submit-result"},h.a.createElement(w.a,{className:"submit-indicator",indicator:he}))),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement(I.a,null,ie)))})),K=h.a.memo(H,(function(e,t){for(var n=Object(R.cloneDeep)(e),a=Object(R.cloneDeep)(t),r=0,l=["onRunTestOutput","onNext","updateScoreByCases","onFinish","onSendLatestCode"];r<l.length;r++){var o=l[r];delete n[o],delete a[o]}return Object(R.isEqual)(n,a)})),Y=n(1855),W=n(811),z=n(2207),Q=(n(2524),S.a.TextArea),V=O.a.TabPane,J=function(e){Object(b.useEffect)((function(){}),[]);var t=e.challenge?e.challenge[0].challenge_name:"...",n=e.challenge_problems?e.challenge_problems.length:0,a=e.problem?e.problem.type:null,r=e.problem?e.problem.content:null;if(r&&a&&(a===W.c.TYPE_BY_NAME.MULTI_CHOICE||a===W.c.TYPE_BY_NAME.MULTI_CHOICE_NONE_VALID)){r=r.concat("<span> (Select all that apply.)</span>")}e.surveyStarted&&(r=r.split("{mcq_name}").join("<b>".concat(e.mcq_challenge_name,"</b>")));var l,o,c=[];return e.problem_cases&&e.problem_cases.forEach((function(e,t){c.push(h.a.createElement(V,{tab:"Test ".concat(t+1),key:"".concat(t+1)},h.a.createElement(Q,{className:"input-text-area",readOnly:!0,placeholder:"Enter input case...",value:e.input,autosize:{minRows:7,maxRows:7}})))})),e.disabled?h.a.createElement(z.a,{loading:e.disabled,title:t,className:"take-challenge"}):(e.isLiveCode&&e.challenge&&e.challenge.length&&(l=e.challenge[0].challenge_name,o="Live code interview"),h.a.createElement("div",{className:"leftPanel"},h.a.createElement(Y.a,{content:r,currentStep:e.currentStep,totalSteps:n,isLiveCode:e.isLiveCode,title:l,subTitle:o,className:"noop",challenge_id:e.challenge_id,problem_id:e.problem_id})))},X=n(1371),Z=n(664),$=n.n(Z),ee=(n(2526),X.a.Option),te=function(e){var t=Object(b.useState)(!1),n=Object(f.a)(t,2),a=n[0],r=n[1],l=function(){r(!1)},o=!e.test&&!!localStorage.getItem("take_acc_for_vetsmith"),c=(localStorage.getItem("vetsmith_langs")||"").split(",").map((function(e){return parseInt(e)})).filter((function(e){return e})),i=[],s={};return e.problem_templates&&e.programming_languages&&(i=e.problem_templates.map((function(t){if(o&&!c.includes(t.programming_language_id))return null;var n=e.programming_languages.filter((function(e){return e.programming_language_id===t.programming_language_id}));return n.length?(n[0].language_name===e.selectedLanguage&&(s=Object.assign({},n[0])),h.a.createElement(ee,{key:t.programming_language_id,value:t.programming_language_id},n[0].language_name)):null})).filter((function(e){return e}))),h.a.createElement("div",{className:"headerRight d-flex v-flex-center flex-column"},h.a.createElement("div",null,"Choose a programming language"),h.a.createElement(X.a,{key:e.selectedLanguage,value:e.selectedLanguage,placeholder:"Programming Language",className:"select-language",style:{width:200},onChange:function(t){"function"===typeof e.onChangeLanguage&&e.onChangeLanguage(t)}},i),h.a.createElement(v.a,{type:"info-circle",theme:"filled",className:"m-l-1",style:{cursor:"pointer"},onClick:function(){r(!0)}}),e.test?h.a.createElement(C.a,{style:{position:"absolute",right:"20px"},type:"primary",onClick:function(){if(e.history)e.history.push(A.PageConstant.CODING_CHALLENGE);else{var t=localStorage.getItem("token"),n=$.a.decode(t);D.a.error("CODING_CHALLENGE_PRACTICE_TEST","CODING_CHALLENGE_PRACTICE_TEST",{user_id:n.uid,email:n.email,page:"Coding Challenge Practice"},Object(m.a)({},n,{page:"Coding Challenge Practice",date:new Date}),{message:"history props is undefined or null"}),window.location(A.PageConstant.CODING_CHALLENGE)}}},"Exit Practice Test"):null,h.a.createElement(y.a,{visible:a,closable:!1,centered:!0,maskClosable:!0,onCancel:l,footer:[h.a.createElement(C.a,{key:"submit",type:"primary",onClick:l},"OK")]},h.a.createElement("div",{style:{display:"flex",alignItems:"center"}},h.a.createElement(v.a,{type:"info-circle",theme:"filled",style:{marginRight:"0.75rem",fontSize:"15px"}}),h.a.createElement("h3",{style:{marginBottom:"0"}},s.language_name)),h.a.createElement("div",null,h.a.createElement("br",null),h.a.createElement("div",{dangerouslySetInnerHTML:{__html:s.language_info}}))))},ne=n(647),ae=n.n(ne),re=(n(2528),X.a.Option),le=h.a.memo((function(e){var t,n=e.problem_id,a=Object(b.useState)(!1),r=Object(f.a)(a,2),l=r[0],o=r[1],c=function(){o(!1)};return t=(e.challenge_problems||[]).map((function(e,t){return h.a.createElement(re,{key:e.problem_id,value:e.problem_id},"Problem ",t+1)})),h.a.createElement("div",{className:"headerLeft"},h.a.createElement("div",{className:"headerLeftLogoArea"},h.a.createElement("img",{className:"header-logo",src:ae.a})),h.a.createElement("div",{className:"headerLeftControlsArea d-flex v-flex-center h-flex-right"},h.a.createElement("div",null,"Choose a problem"),h.a.createElement(X.a,{key:n,placeholder:"Programming Language",className:"select-language",style:{width:200},onChange:e.onChangeProblem,value:n},t),h.a.createElement(v.a,{type:"info-circle",theme:"filled",className:"m-l-1",style:{cursor:"pointer"},onClick:function(){o(!0)}}),h.a.createElement(y.a,{visible:l,closable:!1,centered:!0,maskClosable:!0,onCancel:c,footer:[h.a.createElement(C.a,{key:"submit",type:"primary",onClick:c},"OK")]},h.a.createElement("div",{style:{display:"flex",alignItems:"center"}},h.a.createElement(v.a,{type:"info-circle",theme:"filled",style:{marginRight:"0.75rem",fontSize:"15px"}}),h.a.createElement("h3",{style:{marginBottom:"0"}},"Challenge Instructions")),h.a.createElement("div",null,h.a.createElement("br",null),h.a.createElement("ol",{className:"instructions-list"},h.a.createElement("li",null,"This is a timed test.",h.a.createElement("br",null),"Please make sure you are not interrupted during the test, as the timer cannot be paused once started."),h.a.createElement("li",null,"In the test, you will be given two problems.",h.a.createElement("br",null),"Start with the easier problem."),h.a.createElement("li",null,"Then, choose your favorite programming language."),h.a.createElement("li",null,"Write, test and submit your code."),h.a.createElement("li",null,"We strongly recommend you to try the practice test before taking the real one.")),h.a.createElement("h3",{style:{textAlign:"right"}},"Good Luck!")))))}),(function(e,t){for(var n=Object(R.cloneDeep)(e),a=Object(R.cloneDeep)(t),r=0,l=["onChangeProblem"];r<l.length;r++){var o=l[r];delete n[o],delete a[o]}return Object(R.isEqual)(n,a)})),oe=n(143),ce=n.n(oe),ie=function(e){var t=document.getElementById("lci-countdown");if(!t)return h.a.createElement(h.a.Fragment,null);var n=document.createElement("div");return t.appendChild(n),ce.a.createPortal(e.children,n)},se=n(1862),ue=n(596),me=n.n(ue),de=n(150),pe=(n(2530),n(751)),ge=n(1863),fe=n.n(ge),be=n(595),he=n(1811),Ee=null,_e=null,ve=[],ye=!1,Ce=Object(be.b)()((function(e){var t=Object(b.useCallback)((function(){if(!_e){var t={token:localStorage.getItem("token")};Object(B.b)()&&(t.challenge_id=Object(B.b)()),(_e=fe()("https://socket-record-vetting.turing.com",{query:t,transports:["websocket","polling"]})).connect(),_e.on("disconnect",(function(){_e=null})),_e.on("connect_error",(function(t){console.warn("connect_error",t),D.a.error("ACC_RECORDING","CONNECT_ERROR",{},Object(m.a)({},e.user,{e:t}))})),_e.on("wrong-snapshot",(function(){if(ye){console.warn("Wrong Snapshot - Going to restart replay");a(!0)}else console.warn("Wrong Snapshot, didnt started sending events yet!")})),_e.on("correct-snapshot",(function(){console.warn("Correct Snapshot",he.b),e.dispatch({type:he.b,payload:{initial_snapshot_received:!0}})}))}}),[]),n=Object(b.useCallback)((function(){Ee||(Ee=window.rrweb.record({emit:function(e){ve.push(e)},sampling:{mousemove:!1,mouseInteraction:!1,scroll:150,input:"last"},packFn:window.rrweb.pack}))}),[]),a=Object(b.useCallback)((function(e){Ee&&!e&&Ee(),Ee=null,n()}),[]),r=function(e){ve.length&&_e&&_e.connected&&(_e.emit("accvideo",{data:ve,forcePush:e}),ve.splice(0,ve.length),e&&(_e.disconnect(),_e=null),ye=!0)};return Object(b.useEffect)((function(){return t(),function(){_e&&_e.disconnect(),_e=null}}),[]),Object(b.useEffect)((function(){console.warn("Initialize recording..."),n();var e=setInterval(r,5e3),t=setInterval(a,3e5);return function(){clearInterval(e),clearInterval(t),Ee&&Ee(),Ee=null,r(!0)}}),[]),null})),Oe=n(2196),Se=(n(2532),h.a.memo((function(e){var t=e.initial_snapshot_received;return h.a.createElement("div",{className:"acc-preflight-modal"},h.a.createElement(I.a,{className:"acc-preflight-content"},h.a.createElement("div",null,h.a.createElement(I.a,{className:"acc-preflight-heading-row"},h.a.createElement(Oe.a.Text,null,"Checking conditions, please wait ...")),h.a.createElement(I.a,{className:"acc-preflight-subtitle-row"},h.a.createElement(Oe.a.Text,null,"(In case the check is taking too long, try to do a refresh)")),h.a.createElement(I.a,{type:"flex",justify:"space-between",className:"acc-preflight-items"},h.a.createElement(Oe.a.Text,null,"Resources"),t?h.a.createElement(v.a,{type:"check",style:{fontSize:"16px",color:"#66cc80"}}):h.a.createElement(v.a,{type:"loading",style:{fontSize:"16px"}})),h.a.createElement(I.a,{type:"flex",justify:"space-between",className:"acc-preflight-items"},h.a.createElement(Oe.a.Text,null,"Questions"),h.a.createElement(v.a,{type:"loading",style:{fontSize:"16px"}})))))}))),Ie=Object(be.b)((function(e){var t=e.acc_recording;return{initial_snapshot_received:!(!t||!0!==t.initial_snapshot_received)}}))(Se),we=function(){var e=Object(g.a)(p.a.mark((function e(t){var n,a,r,l,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=localStorage.getItem("token"))&&(N.a.defaults.headers.common.Authorization=n),a={action:"ADD_TRACK_CHALLENGE",challenge_id:t},e.next=5,N.a.post("".concat(A.ApiConstant.BASE_URL,"challenge/"),a).catch((function(e){console.error(e)}));case 5:return r=e.sent,l=!1,r&&(o=r.data)&&o.success&&(localStorage.setItem("k",o.k),localStorage.setItem("v",o.v),localStorage.removeItem("chromeTypeFix"),l=!0),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=n(3065),ke=!1,Te=null,Le={challengeUseProblemDuration:null,challengeDuration:null,problemsDurations:[],problemsTotalDuration:null,problemsElapsedSecs:null,problemElapsedSecs:null,currentProblemId:null,currentProblemDuration:null,problemLoaded:!1,totalSecs:null,elapsedSecs:null,initialTimePassed:null,remainingSecs:null,isChallengeTimedOut:!1,selectedLanguageId:null,problemTemplateContent:null,setProblemSubmited:function(e){Le.problemsDurations=Le.problemsDurations.map((function(t){return t[0]===e&&(t[3]=!0),t}))},setProblemTimedOut:function(e){Le.problemsDurations.forEach((function(t){t[0]===e&&(t[2]=!0)}))},isProblemTimedOut:function(e){var t=!1;return Le.problemsDurations.forEach((function(n){n[0]===e&&(t=n[2])})),t},isProblemSubmitted:function(e){return"undefined"!==typeof Le.problemsDurations.filter((function(t){return t[0]===e&&!0===t[3]}))[0]},updateProblemElapsedSecs:function(e){Le.problemsElapsedSecs.forEach((function(t){Object(f.a)(t,1)[0]===e&&(t[1]=t[1]+1)}))},isAllProblemTimeOut:function(){return!Le.problemsDurations.some((function(e){return!e[2]}))}};t.a=Object(be.b)((function(e){var t=e.acc_recording;return{initial_snapshot_received:!(!t||!0!==t.initial_snapshot_received)}}))((function(e){var t=!e.test&&!!localStorage.getItem("take_acc_for_vetsmith"),n=(localStorage.getItem("vetsmith_langs")||"").split(",").map((function(e){return parseInt(e)})).filter((function(e){return e})),a=Object(b.useState)(e.test),r=Object(f.a)(a,2),l=r[0],o=r[1],c=Object(b.useState)(""),i=Object(f.a)(c,2),s=i[0],d=i[1],O=Object(b.useState)(!1),S=Object(f.a)(O,2),I=S[0],w=S[1],j=Object(b.useState)(null),k=Object(f.a)(j,2),T=k[0],L=k[1],P=Object(b.useState)(!1),x=Object(f.a)(P,2),R=x[0],D=x[1],B=Object(b.useState)([]),M=Object(f.a)(B,2),U=M[0],G=M[1],F=Object(b.useState)(e.current_step||1),q=Object(f.a)(F,1)[0],H=Object(b.useState)(e.isLiveCode?e.live_code_challenge_id:e.challenge_id),Y=Object(f.a)(H,1)[0],z=Object(b.useState)({challenge_problems:[],key:1}),Q=Object(f.a)(z,2),V=Q[0],X=Q[1],Z=Object(b.useState)({key:1,problem_templates:null}),ee=Object(f.a)(Z,2),ne=ee[0],ae=ee[1],re=Object(b.useState)({}),oe=Object(f.a)(re,2),ce=oe[0],ue=oe[1],ge=Object(b.useState)(!1),fe=Object(f.a)(ge,2),be=fe[0],Ee=fe[1],_e=Object(b.useState)(!1),ve=Object(f.a)(_e,2),ye=ve[0],Oe=ve[1],Se=Object(b.useState)(!1),Pe=Object(f.a)(Se,2),xe=Pe[0],Ne=Pe[1],Ae=Object(b.useState)(!1),Re=Object(f.a)(Ae,2),De=Re[0],Be=Re[1],Me=Object(b.useState)(!1),Ue=Object(f.a)(Me,2),Ge=Ue[0],Fe=Ue[1],qe=Object(b.useState)(!1),He=Object(f.a)(qe,2),Ke=He[0],Ye=He[1],We=Object(b.useRef)(null),ze=Object(b.useState)(new Date),Qe=Object(f.a)(ze,2),Ve=Qe[0],Je=Qe[1],Xe=Object(b.useState)({}),Ze=Object(f.a)(Xe,2),$e=Ze[0],et=Ze[1];Object(b.useEffect)((function(){return e.dispatch({type:he.a,payload:{}}),function(){e.dispatch({type:he.a,payload:{}})}}),[]),Object(b.useEffect)((function(){var e=localStorage.getItem("token");if(e){var t=$.a.decode(e);et(t)}}),[]),Object(b.useEffect)((function(){var t=je.b((function(){T&&N.a.post("".concat(A.ApiConstant.BASE_URL,"challenge/"),{action:"GET_TRACK_SESSION_INFOS",challenge_id:e.challenge_id}).then((function(e){return e.data})).then((function(e){return e.success&&e.result.length?e.result[0]:null})).then((function(e){e&&e.track_session_id>T&&D(!0)})).catch(console.error)}),15e3);return function(){if(t)return je.a(t)}}),[T,e.challenge_id]);var tt=e.current_step?q:null,nt=localStorage.getItem("k"),at=localStorage.getItem("v");nt&&at&&(N.a.defaults.headers.common.k=nt,N.a.defaults.headers.common.v=at);var rt=Object(b.useCallback)((function(e){d(e)})),lt=function(){var e=Object(g.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={action:"UPDATE_TRACK_CHALLENGE_STEP",track_challenge_id:V.track_challenge_id,step:V.currentStep},e.abrupt("return",N.a.post("".concat(A.ApiConstant.BASE_URL,"challenge/"),n).then((function(e){if(t&&e.data.success)return ft()})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(e){delete e.returnValue},ct=Object(b.useCallback)((function(t,n){var a=t.totalScoreByCases,r=n.passed,l=void 0!==r&&r,o=n.fail,c=void 0!==o&&o;n.delayedCheck;if(Le.setProblemSubmited(ne.problem_id),X((function(e){return Object(m.a)({},e,{totalScoreByCases:a})})),V.challenge_problems.every((function(e){var t=e.problem_id;return Le.isProblemSubmitted(t)}))){if(e.test)return void Ye(!0);l?Oe(!0):c?Ne(!0):Be(!0)}else Fe(!0)})),it=function(){Fe(!1);var e=Le.problemsDurations.find((function(e){var t=Object(f.a)(e,4),n=(t[0],t[1],t[2]),a=t[3];return!0!==n&&!0!==a}));e&&Et(e[0])},st=function(e){var t={action:"UPDATE_EXPIRED_NOTIFICATION",challenge_id:e,notificationValue:1};N.a.post("".concat(A.ApiConstant.BASE_URL,"common-user/"),t)},ut=function(){je.c((function(){e.redirectPageIfError&&e.onRedirect?e.onRedirect(e.redirectPageIfError):e.history.goBack()}),500)},mt=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;E.a[e]({message:t,description:n,placement:"topRight",duration:a})},dt=function(e){var t=new Uint8Array(e),n=8192,a="";if(t.length>n)for(var r=Math.ceil(t.length/n),l=0;l<r;l++)a+=String.fromCharCode.apply(null,t.slice(l*n,(l+1)*n));else a=String.fromCharCode.apply(null,t);return a},pt=function(){var e=Object(g.a)(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.importKey("jwk",t,{name:"AES-CBC"},!0,["encrypt","decrypt"]);case 2:return a=e.sent,e.next=5,window.crypto.subtle.decrypt({name:"AES-CBC",iv:t.v,length:128},a,new Uint8Array(n));case 5:return r=e.sent,e.abrupt("return",JSON.parse(dt(new Uint8Array(r))));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),gt=function(){var e=Object(g.a)(p.a.mark((function e(t,n){var a,r,l,o,c,i,s,u,m,d,g,f,b,h,E,_;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={action:"GET_CHALLENGE_WITH_PROBLEM",challenge_id:t,step:n},e.prev=1,e.next=4,N.a.post("".concat(A.ApiConstant.BASE_URL,"challenge/"),a);case 4:if(r=e.sent,!(l=r.data).success){e.next=62;break}if(o=l.result&&l.result.challenge&&l.result.challenge.length>0?l.result.challenge[0]:null){e.next=12;break}return mt("error","Challenge could not be retrieved!"),ut(),e.abrupt("return");case 12:if(ke=1===o.one_shot,c=o.challenge_name||"N/A",i=1===o.split_problems||o.use_problem_duration,s=0,u=0,m=0,d=0,i){e.next=37;break}if((g=Object(de.a)(["result","timePassed"],l))&&!(g.challenge_duration-g.timePassed<=0)){e.next=27;break}return mt("error","Challenge time out",ke?"This challenge is non-retryable":""),ut(),e.abrupt("return");case 27:if(!(g&&g.current_step>l.result.challenge_problems.length)){e.next=31;break}return mt("error","You already finish this challenge",ke?"This challenge is non-retryable":""),ut(),e.abrupt("return");case 31:s=g.challenge_duration,u=g.timePassed,m=g.current_step,d=g.track_challenge_id,e.next=45;break;case 37:if((f=Object(de.a)(["result","timePassedByProblem"],l))&&f.length){e.next=42;break}return mt("error","Question duration invalid","Please contact Support"),ut(),e.abrupt("return");case 42:b=Object(de.a)(["result","timePassed"],l),m=b.current_step,d=b.track_challenge_id;case 45:h=l.result.challenge_problems[l.result.challenge_problems.length-1],E=Object(de.a)(["result","timePassedByProblem"],l)||[],_={challenge:Object(de.a)(["result","challenge"],l)||[],challenge_name:c,challenge_problems:E,finishProblemId:h,totalSecs:s,secsPassed:u,remainingSecs:s-u,currentStep:m,track_challenge_id:d,key:V.key+1,loadDone:!0,useProblemDuration:i},Le.challengeUseProblemDuration=i,Le.challengeDuration=s,Le.elapsedSecs=u,Le.initialTimePassed=u,Le.remainingSecs=s-u,Le.totalSecs=s,Le.problemsDurations=E.map((function(e){return[e.problem_id,e.problem_duration,!1,!1]})),Le.problemsTotalDuration=E.reduce((function(e,t){return e+t.problem_duration}),0),Le.currentProblemId=null,Le.problemsElapsedSecs=E.map((function(e){return[e.problem_id,e.secPassed]})),yt(),X(_),e.next=63;break;case 62:mt("error","Challenge not active",l.errorMessage?l.errorMessage:"This challenge currently not active or not found.");case 63:e.next=68;break;case 65:e.prev=65,e.t0=e.catch(1),console.log(e.t0);case 68:case"end":return e.stop()}}),e,null,[[1,65]])})));return function(t,n){return e.apply(this,arguments)}}(),ft=function(){var t=Object(g.a)(p.a.mark((function t(){var n,a,r,l,o,c,i,s,u,d,g,f,b,h,E,_,v,y,C,O,S,I;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=V.challenge_problems[V.currentStep-1].problem_id,a=V.useProblemDuration,Le.currentProblemId=n,Le.problemLoaded=!1,r=localStorage.getItem("k"),l=localStorage.getItem("v"),o={action:"GET_PROBLEM_FOR_CHALLENGE",problem_id:n,challenge_id:e.challenge_id,track_challenge_id:V.track_challenge_id},L(null),t.prev=8,t.next=11,N.a.post("".concat(A.ApiConstant.BASE_URL,"challenge/"),o).catch((function(e){return console.log(e)}));case 11:if(c=t.sent,!(i=c.data).success){t.next=55;break}return(s=se.jwkKeyOptions).k=r,s.v=new Uint8Array(l.split(",")),t.next=19,pt(s,i.result);case 19:if(i.result=t.sent,i.session&&L(i.session.track_session_id),u=i.result.problem[0],d=i.result.timePassed,g=u.type===W.c.TYPE_BY_NAME.CODE_FREE||u.type===W.c.TYPE_BY_NAME.CODE_LIMIT_TIME,!V.challenge_problems.every((function(e){return d.find((function(t){return t.problem_id===e.problem_id})).submitted}))){t.next=32;break}if(!e.test){t.next=29;break}t.next=32;break;case 29:return mt("info","All solutions are submitted","This Coding challenge is non-retryable."),ut(),t.abrupt("return");case 32:f={problem_id:n,problem:u,problem_templates:i.result.problem_templates,problem_cases:i.result.problem_cases,problem_choices:i.result.problem_choices,problem_option:i.result.problem_option?i.result.problem_option[0]:null,key:ne.key+1,isCodeProblem:g},(V.challenge_problems||[]).forEach((function(e){var t=d.find((function(t){return t.problem_id===e.problem_id}));t&&(t.submitted&&Le.setProblemSubmited(e.problem_id),e.problem_id===n&&a&&(Le.currentProblemDuration=t.problem_duration,Le.problemElapsedSecs=t.secPassed))})),ae(f),Le.problemLoaded=!0,b="tc_".concat(Y,"_").concat(Le.currentProblemId,"_lang"),h=parseInt(localStorage.getItem(b)),E=f.problem_templates&&f.problem_templates.length?f.problem_templates[0].programming_language_id:void 0,_=ce.selectedLanguageId||h||E,"Not found"===(v=U.filter((function(e){return e.programming_language_id===_}))[0]||{language_name:"Not found",monaco_map:" ",code_server_map:""}).language_name&&(v=U[0]||v,_=v.programming_language_id,localStorage.setItem(b,_)),Le.selectedLanguageId=_,y="tc_".concat(Y,"_").concat(Le.currentProblemId,"_").concat(Le.selectedLanguageId),C=localStorage.getItem(y),O=(f.problem_templates.filter((function(e){return e.programming_language_id===Le.selectedLanguageId}))[0]||{content:""}).content,Le.problemTemplateContent=O,S=C||O,I=Object(m.a)({},ce,{selectedLanguage:v.language_name,selectedMonacoMap:v.monaco_map,selectedContent:S,selectedLanguageId:_,codeServerMap:v.code_server_map}),ue(I),We&&We.current&&We.current.setEditorContent(S,v.monaco_map),e.onLoaded&&e.onLoaded(),Ee(!0),t.next=57;break;case 55:mt("error","Session Ended"),ut();case 57:t.next=64;break;case 59:t.prev=59,t.t0=t.catch(8),console.log("Error:",t.t0),mt("error","Session Ended"),ut();case 64:case"end":return t.stop()}}),t,null,[[8,59]])})));return function(){return t.apply(this,arguments)}}(),bt=function(){var e=Object(g.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={action:"GET_PROGRAMMING_LANGUAGE"},e.next=3,N.a.post("".concat(A.ApiConstant.BASE_URL,"common/"),a).then((function(e){var a=e.data;if(a.success){var r=Array.isArray(a.result)?a.result:[];t&&(r=r.filter((function(e){return n.includes(+e.programming_language_id)}))),G(r)}}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ht=function(){var e=Object(g.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,N.a.post("".concat(A.ApiConstant.BASE_URL,"/auto-submit-acc"),t).catch((function(e){console.log(e)}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Et=function(){var e=Object(g.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=V.challenge_problems.findIndex((function(e){return e.problem_id===t}))+1)?(o(!0),X((function(e){return Object(m.a)({},e,{currentStep:n})}))):console.log("Problem not found (step)");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_t=function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Le.changingProblem=!0,o(!0),e.prev=2,e.next=5,lt("next");case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:o(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();function vt(){var e=Le.currentProblemId,t=Le.problemLoaded,n=Le.challengeUseProblemDuration;if(t){if(e&&Le.remainingSecs%30===0){var a="tc_".concat(Y,"_").concat(e,"_").concat(Le.selectedLanguageId),r=We&&We.current?We.current.getEditorContent():Le.problemTemplateContent;localStorage.setItem(a,r)}if(n){if(!e)return;var l=Le.problemsElapsedSecs.filter((function(t){return t[0]===e}))[0];if(l){l[1]+=1,Le.problemElapsedSecs=l[1],Le.remainingSecs=Le.currentProblemDuration-Le.problemElapsedSecs;var o=Le.isProblemTimedOut(e),c=Le.isProblemSubmitted(e);if(Le.remainingSecs<=0&&!o&&Le.setProblemTimedOut(e),Le.remainingSecs<=0&&!c)We&&We.current&&!We.current.isSubmitting()&&We.current.autoSubmit((function(){if(Le.setProblemSubmited(e),Le.isAllProblemTimeOut()){if(Le.redirectingBack)return;return Le.redirectingBack=!0,mt("error","All questions timed out.",""),st(),void ut()}Je(new Date)}));else if(c&&Le.isAllProblemTimeOut()){if(Le.redirectingBack)return;return Le.redirectingBack=!0,mt("error","All questions timed out.",""),st(),void ut()}}else console.error("Invalid current problem Id",e)}else{var i=new Date,s=Math.floor((+i-+Te)/1e3),u=Le.initialTimePassed+s;if(Le.remainingSecs=Le.challengeDuration-u,Le.remainingSecs<=0&&!Le.isChallengeTimedOut){if(w(!0),Le.isChallengeTimedOut=!0,Le.redirectingBack)return;return Le.redirectingBack=!0,mt("error","Challenge timed out.",ke?"This challenge is non-retryable":""),st(),ht(),void ut()}}Le.remainingSecs=Math.max(Le.remainingSecs,0);var m=document.getElementsByClassName("coding-challenge-timer-value")[0];m&&(m.innerHTML=me.a.utc(1e3*Le.remainingSecs).format("HH:mm:ss"))}}Object(b.useEffect)((function(){V.currentStep&&_t()}),[V.currentStep]),Object(b.useEffect)((function(){Le.changingProblem=!1}),[ne.problem_id]),Object(b.useEffect)((function(){if(V.currentStep)return window.removeEventListener("beforeunload",ot),window.addEventListener("beforeunload",ot),function(){window.removeEventListener("beforeunload",ot)}}),[V.currentStep]);var yt=function(){u&&je.a(u),Te=new Date,u=je.b(vt,1e3)},Ct=function(){var t=Object(g.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,we(Y);case 2:if(t.sent){t.next=7;break}return _.a.error("Error starting ".concat(e.test?"practice coding":"coding"," challenge, please try again later.")),je.c((function(){e.history.goBack()}),500),t.abrupt("return");case 7:return t.next=9,bt();case 9:return t.next=11,gt(Y,tt);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ot=Object(b.useState)(!1),St=Object(f.a)(Ot,2),It=St[0],wt=St[1];Object(b.useEffect)((function(){return!1===e.test?(It||wt(!0),e.initial_snapshot_received&&Ct()):Ct(),function(){u&&je.a(u)}}),[e.initial_snapshot_received]);var jt=Le.isProblemSubmitted(ne.problem_id),kt=Le.isProblemTimedOut(ne.problem_id);return h.a.createElement(h.a.Fragment,null,e.test||e.initial_snapshot_received&&be?null:h.a.createElement(Ie,null),!e.test&&!l&&h.a.createElement("div",{className:"waiting-snapshot ".concat(e.initial_snapshot_received?"snapshot-ok":null)}),(be||e.test)&&l?h.a.createElement(v.a,{type:"loading",className:"problemLoading"}):null,h.a.createElement("div",{className:"codingChallenge"},h.a.createElement("div",{className:"headerLeftArea d-flex v-flex-center"},h.a.createElement(le,Object.assign({onChangeProblem:Et},V,ne))),h.a.createElement("div",{className:"headerRightArea d-flex v-flex-center"},h.a.createElement(te,{onChangeLanguage:function(t){var n=U.filter((function(e){return e.programming_language_id===t})),a=ne.problem_templates.filter((function(e){return e.programming_language_id===t}));if(a&&a.length>0&&n&&n.length>0){var r="tc_".concat(Y,"_").concat(Le.currentProblemId,"_lang");localStorage.setItem(r,t);var l="tc_".concat(Y,"_").concat(Le.currentProblemId,"_").concat(t),o=localStorage.getItem(l)||a[0].content,c=Object(m.a)({},ce,{selectedLanguage:n[0].language_name,selectedMonacoMap:n[0].monaco_map,selectedContent:o,selectedLanguageId:t,codeServerMap:n[0].code_server_map});ue(c),We&&We.current&&We.current.setEditorContent(o,n[0].monaco_map),Le.selectedLanguageId=t}e.lcId&&function(t){var n={action:"UPDATE_PROGRAMMING_LANGUAGE",lc_id:e.lcId,programming_lang:t};N.a.post("".concat(A.ApiConstant.BASE_URL,"liveCoding/"),n).then((function(e){})).catch((function(e){console.log(e)}))}(t)},problem_templates:ne.problem_templates,programming_languages:U,selectedLanguage:ce.selectedLanguage,test:e.test,history:e.history})),h.a.createElement("div",{className:"leftPanelArea d-flex"},h.a.createElement(J,Object.assign({},V,ne,{challenge_id:Y,problem_id:ne.problem_id}))),h.a.createElement("div",{className:"rightPanelArea"},h.a.createElement(K,Object.assign({ref:We,challenge_id:Y,isProblemSubmitted:jt,isProblemTimedOut:kt,isChallengeTimedOut:I},ce,ne,{remainingSecs:Le.remainingSecs,onRunTestOutput:rt,updateScoreByCases:ct,onSendLatestCode:e.onSendLatestCode,isLiveCode:e.isLiveCode,lcId:e.lcId,outputMessage:s})))),h.a.createElement(ie,{lastPageRefresh:Ve},h.a.createElement("div",{className:"coding-challenge-timer"},h.a.createElement("div",{className:"ant-statistic challenge-code-header-text"},h.a.createElement("div",{className:"ant-statistic-content"},h.a.createElement("span",{className:"ant-statistic-content-value coding-challenge-timer-value"},me.a.utc(1e3*Le.remainingSecs).format("HH:mm:ss")))))),e.test?h.a.createElement(h.a.Fragment,null,h.a.createElement(pe.a.PassFirstProblem,{name:$e.userName,visible:Ge,onClick:it}),h.a.createElement(pe.a.PracticeSubmittedAll,{name:$e.userName,visible:Ke,onClick:function(){e.history.goBack()}})):h.a.createElement(h.a.Fragment,null,h.a.createElement(pe.a.PassFirstProblem,{name:$e.userName,visible:Ge,onClick:it}),h.a.createElement(pe.a.Pass,{name:$e.userName,visible:ye,onClick:function(){t?e.history.push(A.PageConstant.VETSMITH_PAGE):e.history.push(A.PageConstant.MCQ_LIST)}}),h.a.createElement(pe.a.Fail,{name:$e.userName,visible:xe,onClick:function(){t?e.history.push(A.PageConstant.VETSMITH_PAGE):e.history.push(A.PageConstant.DASHBOARD_DEV)}}),h.a.createElement(pe.a.Suspicious,{name:$e.userName,visible:De,onClick:function(){e.history.push(A.PageConstant.MCQ_LIST)}})),h.a.createElement(y.a,{visible:R,footer:null,closable:!1,width:565},h.a.createElement("p",null,"Multiple tabs openned, please continue on the last open tab."),h.a.createElement("div",{className:"mutitabopen-action"},h.a.createElement(C.a,{type:"primary",onClick:function(){return e.history.push(A.PageConstant.DASHBOARD_DEV)}},"OK"))),e.test?null:It?h.a.createElement(Ce,{user:$e}):null)}))},2522:function(e,t,n){},2524:function(e,t,n){},2526:function(e,t,n){},2528:function(e,t,n){},2530:function(e,t,n){},2532:function(e,t,n){},751:function(e,t,n){"use strict";var a=n(547),r=n(79),l=n(80),o=n(142),c=n(44),i=n(141),s=n(2),u=n.n(s),m=n(2202),d=n(1270),p=(n(855),n(596)),g=n.n(p),f=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.name,r=e.langs,l=e.onClick,o=Object(a.a)(e,["type","name","langs","onClick"]);return"PassFirstProblem"===t?u.a.createElement(m.a,Object.assign({},o,{footer:null,closable:!1,width:565,centered:!0}),u.a.createElement("p",null,"Nice",n?", ".concat(n):"","! You've successfully submitted your solution."),u.a.createElement("p",null,"Please solve the other problem for the remainder of the time. After solving that one, you will receive your Coding Challenge results and the next steps."),u.a.createElement("div",{className:"LCIResultDialog-action"},u.a.createElement(d.a,{type:"primary",onClick:l},"Take me to the other problem"))):"PracticeSubmittedAll"===t?u.a.createElement(m.a,Object.assign({},o,{footer:null,closable:!1,width:565,centered:!0}),u.a.createElement("p",null,"Nice",n?", ".concat(n):"","! You've submitted all solutions."),u.a.createElement("p",null,"You can retry this Practice coding challenge anytime."),u.a.createElement("p",null,"When you're confident, start the Real test."),u.a.createElement("div",{className:"LCIResultDialog-action"},u.a.createElement(d.a,{type:"primary",onClick:l},"Back to Instructions page"))):u.a.createElement(m.a,Object.assign({},o,{footer:null,closable:!1,width:565,centered:!0}),"Pass"===t?u.a.createElement("p",null,"Congrats, ",n?"".concat(n,"! "):"","You've passed the Coding Challenge!"):null,"Pass"===t?u.a.createElement("p",null,"You will start getting suggested for top U.S. jobs ",r?"that require ".concat(r):""):null,"Pass"===t?u.a.createElement("p",null,"If you wish to maximize your job offers, please build your U.S. software engineering resume so that more companies can understand you better."):null,"Fail"===t?u.a.createElement("p",null,"Unfortunately, you didn't meet the minimum score to be considered for U.S. software engineering jobs."):null,"Fail"===t?u.a.createElement("p",null,"However, you can try this again in 3 months (",g()().add(3,"months").format("LL"),"). In the meantime, you will receive an email from us with study materials for your re-test."):null,"Fail"===t?u.a.createElement("p",null,"We hope to see you again soon."):null,"Suspicious"===t?u.a.createElement("p",null,"Congrats, ",n?"".concat(n,"! "):"","You've submitted your Coding Challenge!"):null,"Suspicious"===t?u.a.createElement("p",null,"We will review your submission and get back to you within 48 hours."):null,"Suspicious"===t?u.a.createElement("p",null,"In the meantime, we invite you to build your U.S. software engineering resume so that more companies can have an in-depth understanding of you."):null,u.a.createElement("div",{className:"LCIResultDialog-action"},u.a.createElement(d.a,{type:"primary",onClick:l},"Close")))}}]),t}(s.Component);f.Pass=function(e){return u.a.createElement(f,Object.assign({},e,{type:"Pass"}))},f.Fail=function(e){return u.a.createElement(f,Object.assign({},e,{type:"Fail"}))},f.Suspicious=function(e){return u.a.createElement(f,Object.assign({},e,{type:"Suspicious"}))},f.PassFirstProblem=function(e){return u.a.createElement(f,Object.assign({},e,{type:"PassFirstProblem"}))},f.PracticeSubmittedAll=function(e){return u.a.createElement(f,Object.assign({},e,{type:"PracticeSubmittedAll"}))},t.a=f},855:function(e,t,n){}}]);